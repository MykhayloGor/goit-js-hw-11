{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nexport { renderGallery, loader, iziToast, SimpleLightbox };\n\nfunction renderGallery(images) {\n  const markup = images\n    .map(\n      img => `\n        <li class=\"gallery-item\">  <div class=\"image-card\">  <a class=\"gallery-link\" href=\"${img.largeImageURL}\">\n              <img class=\"gallery-image\" src=\"${img.webformatURL}\" alt=\"${img.tags}\" />\n            </a>\n            <div class=\"gallery-meta\">\n              <ul class=\"gallery-stats\">\n                <li class=\"stats-item\">\n                  <span class=\"stats-label\">Likes</span>\n                  <span class=\"stats-value\">${img.likes}</span>\n                </li>\n                <li class=\"stats-item\">\n                  <span class=\"stats-label\">Views</span>\n                  <span class=\"stats-value\">${img.views}</span>\n                </li>\n                <li class=\"stats-item\">\n                  <span class=\"stats-label\">Comments</span>\n                  <span class=\"stats-value\">${img.comments}</span>\n                </li>\n                <li class=\"stats-item\">\n                  <span class=\"stats-label\">Downloads</span>\n                  <span class=\"stats-value\">${img.downloads}</span>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </li>\n      `\n    )\n    .join('');\n\n  gallery.innerHTML = markup;\n}\n","import axios from 'axios';\n\nconst API_KEY = '48704705-de0108bea4c192368cade13d3';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nconst axiosInstance = axios.create({\n  baseURL: BASE_URL,\n  params: {\n    key: API_KEY,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  },\n});\n\nexport function fetchImages(query, page = 1, perPage = 9) {\n  return axiosInstance\n    .get('/', {\n      params: {\n        q: query,\n        page,\n        per_page: perPage,\n      },\n    })\n    .then(res => res.data.hits)\n    .catch(error => {\n      console.log('Error fetching images:', error);\n      return [];\n    });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { renderGallery } from './js/render-functions.js';\nimport { fetchImages } from './js/pixabay-api.js';\n\nconst form = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nlet lightbox = new SimpleLightbox('.gallery a');\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const query = form.elements['search-query'].value.trim();\n  if (!query) {\n    iziToast.warning({\n      title: 'Warning',\n      message: 'Please enter a search term!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  gallery.innerHTML = '';\n  loader.classList.remove('hidden');\n\n  fetchImages(query)\n    .then(images => {\n      if (images.length === 0) {\n        loader.classList.add('hidden');\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        return;\n      }\n\n      renderGallery(images);\n      lightbox.refresh();\n\n      setTimeout(() => {\n        loader.classList.add('hidden');\n      }, 200);\n    })\n    .catch(error => {\n      setTimeout(() => {\n        loader.classList.add('hidden');\n      }, 200);\n      iziToast.error({\n        title: 'Error',\n        message: 'An error occurred while fetching images',\n        position: 'topRight',\n      });\n    });\n});\n"],"names":["gallery","renderGallery","images","markup","img","API_KEY","BASE_URL","axiosInstance","axios","fetchImages","query","page","perPage","res","error","form","loader","lightbox","SimpleLightbox","e","iziToast"],"mappings":"owBAKA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAClC,SAAS,cAAc,SAAS,EAI/C,SAASC,EAAcC,EAAQ,CAC7B,MAAMC,EAASD,EACZ,IACCE,GAAO;AAAA,6FACgFA,EAAI,aAAa;AAAA,gDAC9DA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAMpCA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,8CAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,8CAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,8CAIZA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOtD,EACA,KAAK,EAAE,EAEVJ,EAAQ,UAAYG,CACtB,CC1CA,MAAME,EAAU,qCACVC,EAAW,2BAEXC,EAAgBC,EAAM,OAAO,CACjC,QAASF,EACT,OAAQ,CACN,IAAKD,EACL,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACH,CAAC,EAEM,SAASI,EAAYC,EAAOC,EAAO,EAAGC,EAAU,EAAG,CACxD,OAAOL,EACJ,IAAI,IAAK,CACR,OAAQ,CACN,EAAGG,EACH,KAAAC,EACA,SAAUC,CACX,CACP,CAAK,EACA,KAAKC,GAAOA,EAAI,KAAK,IAAI,EACzB,MAAMC,IACL,QAAQ,IAAI,yBAA0BA,CAAK,EACpC,GACR,CACL,CCtBA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAC5Cf,EAAU,SAAS,cAAc,UAAU,EAC3CgB,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAW,IAAIC,EAAe,YAAY,EAE9CH,EAAK,iBAAiB,SAAUI,GAAK,CACnCA,EAAE,eAAc,EAEhB,MAAMT,EAAQK,EAAK,SAAS,cAAc,EAAE,MAAM,OAClD,GAAI,CAACL,EAAO,CACVU,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,8BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDpB,EAAQ,UAAY,GACpBgB,EAAO,UAAU,OAAO,QAAQ,EAEhCP,EAAYC,CAAK,EACd,KAAKR,GAAU,CACd,GAAIA,EAAO,SAAW,EAAG,CACvBc,EAAO,UAAU,IAAI,QAAQ,EAC7BI,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UACpB,CAAS,EACD,MACD,CAEDnB,EAAcC,CAAM,EACpBe,EAAS,QAAO,EAEhB,WAAW,IAAM,CACfD,EAAO,UAAU,IAAI,QAAQ,CAC9B,EAAE,GAAG,CACZ,CAAK,EACA,MAAMF,GAAS,CACd,WAAW,IAAM,CACfE,EAAO,UAAU,IAAI,QAAQ,CAC9B,EAAE,GAAG,EACNI,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0CACT,SAAU,UAClB,CAAO,CACP,CAAK,CACL,CAAC"}